# HH.ru Parser

–ü–∞—Ä—Å–µ—Ä –≤–∞–∫–∞–Ω—Å–∏–π —Å HH.ru —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏ —Ñ–æ—Ä–º–∞—Ç—É —Ä–∞–±–æ—Ç—ã.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üìç **–ì–µ–æ-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –¢—é–º–µ–Ω—å - –≤—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã, –¥—Ä—É–≥–∏–µ –≥–æ—Ä–æ–¥–∞ - —Ç–æ–ª—å–∫–æ —É–¥–∞–ª–µ–Ω–∫–∞
- üíº **–§–∏–ª—å—Ç—Ä –ø–æ –æ–ø—ã—Ç—É**: –±–µ–∑ –æ–ø—ã—Ç–∞ –∏–ª–∏ 1-3 –≥–æ–¥–∞  
- üè∑Ô∏è **–ê–≤—Ç–æ-–∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–∞–∫–∞–Ω—Å–∏–∏
- ‚≠ê **–°–∏—Å—Ç–µ–º–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏**: –æ—Ü–µ–Ω–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- üíæ **PostgreSQL**: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <url-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
cd hh-parser
```
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL

4. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
```bash
DB_HOST=localhost
DB_NAME=hh_parser  
DB_USER=postgres
DB_PASSWORD=password
DB_PORT=5432
```

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞:
```bash
python q.py

```
–ø–æ—á–µ–º—É q-quick –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ , –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —è –¥–µ–ª–∞–ª 
–º–Ω–æ–≥–æ –æ—å—Ä–∞—â–µ–Ω–∏–π –∫ –∞–ø–∏ —Ö—Ö.—Ä—É , –±—ã–ª–æ –º–Ω–æ–≥–æ –º—É—Å–æ—Ä–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π,
–∞ —Ç–∞–∫ –∂–µ –ø–æ–∏—Å–∫ –¥–ª–∏–ª—Å—è –æ—á–µ–Ω—å –¥–æ–ª–≥–æ, —Å–µ–π—á–∞—Å , —Ä–∞–∑–æ–º –ø–æ–ª—É—á–∞—é json
–∏ —Ñ–∏–ª—å—Ç—Ä—É—é –µ–≥–æ  —É–∂–µ –≤ –∫–æ–¥–µ , –∞ –ø–æ—Å–ª–µ –ª—å—é –≤ –±–¥
–±—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ . 

–ü—Ä–æ—Å–º–æ—Ç—Ä –≤–∞–∫–∞–Ω—Å–∏–π:

```bash
python view_vacancies.py
```
## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
q.py - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä

view_vacancies.py - –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤–∞–∫–∞–Ω—Å–∏–π

config.py - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

requirements.txt - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```
## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
–ü–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –∑–∞–ø—É—Å–∫–æ–º —Å–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É:

```sql
DROP TABLE IF EXISTS vacancies;

-- –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É —Å –ø–æ–ª–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
CREATE TABLE vacancies (
    id SERIAL PRIMARY KEY,
    hh_id INTEGER UNIQUE,
    name VARCHAR(500),
    company VARCHAR(255),
    salary_from INTEGER,
    salary_to INTEGER,
    url VARCHAR(500),
    skills TEXT,
    description TEXT,
    category VARCHAR(50),
    relevance_score INTEGER DEFAULT 0,
    work_format VARCHAR(20),        -- NEW: remote/hybrid/office
    city VARCHAR(100),              -- NEW: –≥–æ—Ä–æ–¥ –≤–∞–∫–∞–Ω—Å–∏–∏
    created_date TIMESTAMP DEFAULT NOW(),
    responded BOOLEAN DEFAULT FALSE
);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
CREATE INDEX IF NOT EXISTS idx_vacancies_date ON vacancies(created_date);
CREATE INDEX IF NOT EXISTS idx_vacancies_category ON vacancies(category);
CREATE INDEX IF NOT EXISTS idx_vacancies_score ON vacancies(relevance_score);
CREATE INDEX IF NOT EXISTS idx_vacancies_salary ON vacancies(salary_from, salary_to);
CREATE INDEX IF NOT EXISTS idx_vacancies_work_format ON vacancies(work_format);  -- NEW
CREATE INDEX IF NOT EXISTS idx_vacancies_city ON vacancies(city);                -- NEW
```
# –õ–∏—Ü–µ–Ω–∑–∏—è
Dmitry Tychinkin



–ò —Ñ–∞–π–ª `requirements.txt`:

```txt
requests==2.31.0
psycopg2-binary==2.9.7
python-dotenv==1.0.0
```


